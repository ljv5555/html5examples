<!doctype html>
<html>
<head>
<title>html5 examples and tests</title>
<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
<script>

  window.file2data = function(fileElement){
    var fr = new FileReader();
    fr.onloadend=function(){$(fileElement).attr('data-filecontents',fr.result);};
    fr.readAsBinaryString(fileElement.files[0]);
  };


  window.loadFile=function(cssSelector,callbackFunction) {
        var input, file, fr;

        if (typeof window.FileReader !== 'function') {
            alert("The file API isn't supported on this browser yet.");
            return;
        }

        input = document.querySelector(cssSelector);
        if (!input) {
            alert("Um, couldn't find the fileinput element.");
        }
        else if (!input.files) {
            alert("This browser doesn't seem to support the `files` property of file inputs.");
        }
        else if (!input.files[0]) {
            alert("Please select a file before clicking 'Load'");
        }
        else {
            file = input.files[0];
            fr = new FileReader();
            fr.onload = function(){callbackFunction(fr.result);};
            fr.readBinaryString(file);
        }
    };
    
jQuery(function($){
  
  
  
  
});



</script>
<style>.bodydiv2{padding:1em 1em 1em 1em;margin:1em 1em 1em 1em;border-radius:1.2em 1.2em 1.2em 1.2em;border:1px solid blue;}</style>
</head>
<body>
<div class="bodydiv1">
  <form>
    <div class="status"></div>
    <input type="file" name="file1" class="file1" id="file1"/>
    <!--textarea class="button1click">
        window.f1 = document.querySelector('.file1');
        window.fr = new FileReader();
        window.fr.readAsArrayBuffer(f1);
    </textarea-->
    <button class="button1" onclick="window.loadFile('.file1',function(r){alert('r='+r);});" >load</button>
  </form>
</div>
<div class="bodydiv2">
  <input type="file" id="file2" onchange="window.file2data(this);"/><input type="button" value="file2data" onclick="window.file2data(document.getElementById('file2'));"/>
</div>
<div class="bodydiv3"></div>
</body>
</html>
